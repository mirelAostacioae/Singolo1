<!DOCTYPE html>
<html>
<head>
	<title>Singolo</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href='http://fonts.googleapis.com/css?family=Lato:300,400,500,600,700,800,900' rel='stylesheet' type='text/css'>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="slider.js"></script>
</head>
<body>
	<div class="wrapper">
		<header>
			<div class="site-width">
				<a href="index.html#"><h1 class = "logo">Singolo<span>*</span></h1></a>
				<img class = "header-menu-bar" src="images/list-icon.png">
				<div class = "header-nav">
					<a  href ="index.html#">Home</a>
					<span>&bull;</span>
					<a  href ="portofolio.html#">Portofolio</a>
					<span>&bull;</span>
					<a  href ="about.html#">About</a>
					<span>&bull;</span>
					<a  href ="contact.html#">Contact</a>
				</div>
			</div>
		</header>
		<div class="wrapper-slider">

			<div class="site-width">
				<img class="arrow arrow--left" src="images/arrow-left.png" data-dir="prev">
				<img class="arrow arrow--right" src="images/arrow-right.png" data-dir="next">
				<div class="slider">
					<div class="slide-content" data-number="1">
						<img class="iphone-vertical" src="images/iphone-vertical.png">
					</div><!--
				--><div class="slide-content" data-number="1">
						<img class="iphone-horizontal" src="images/iphone-horizontal.png">
					</div><!--
					--><div class="slide-content" data-number="1">
						<img  src="images/telefon-smart.png">
					</div>
				</div>
			</div>

		</div>
		<div class="services">
			<div class="site-width">
				<div class="title-services">
					<h3>Our services</h3>
				<p class="description">
					Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum. Duis mollis, non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh.
				</p>
				</div>
				
				<div class="container">
					<img class="container-img" src="images/pen.png">
					<h4 class="container--title">
						Custom Design
					</h4>
					<p class="container-description">
						Curabitur vestibulum eget mauris quis laoreet. Phasellus in quam laoreet, viverra lacus ut, ultrices velit.
					</p>
				</div><!--
			--><div class="container">
					<img class="container-img" src="images/bulb.png">
					<h4 class="container--title">
						Inovative Ideas
					</h4>
					<p class="container-description">
						Quisque luctus, quam eget molestie commodo, lacus purus cursus purus, nec rutrum tellus dolor id lorem.
					</p>
				</div><!--
			--><div class="container">
					<img class="container-img" src="images/heart.png">
					<h4 class="container--title">
						Love Is The Answer
					</h4>
					<p class="container-description">
						Nulla sed nunc et tortor luctus faucibus. Morbi at aliquet turpis, et consequat felis. Quisque condimentum.
					</p>
				</div><!--
			--><div class="container">
					<img class="container-img" src="images/phone.png">
					<h4 class="container--title">
						Responsive Layout
					</h4>
					<p class="container-description">
						Sed porttitor placerat rhoncus. In at nunc tellus. Maecenas blandit nunc ligula. Praesent elit leo.
					</p>
				</div><!--
			--><div class="container">
					<img class="container-img" src="images/bubble.png">
					<h4 class="container--title">
						24/7 Support
					</h4>
					<p class="container-description">
						Vivamus vel quam lacinia, tincidunt dui non, vehicula nisi. Nulla a sem erat. Pellentesque egestas venenatis lorem .
					</p>
				</div><!--
			--><div class="container">
					<img class="container-img" src="images/star.png">
					<h4 class="container--title">
						Feel Like A Star
					</h4>
					<p class="container-description">
						Quisque hendrerit purus dapibus, ornare nibh vitae, viverra nibh. Fusce vitae aliquam tellus.
					</p>
				</div>
			</div>
		</div>
	</div>
	<footer>
			<div class="site-width">
				<h5 class="copyright">
					&copy; Copyright 2013 <span>&bull;</span> by PSDchat.com
				</h5>
					<a href="#">
						<img src="images/facebook.png">
						<img src="images/facebook-hover.png">
					</a>
					<a href="#">
						<img src="images/google.png">
						<img src="images/google-hover.png">
					</a>
					<a href="#">
						<img src="images/twitter.png">
						<img src="images/twitter-hover.png">
					</a>
					<a href="#">
						<img src="images/linkedin.png">
						<img src="images/linkedin-hover.png">
					</a>
					
					
					
			</div>		
	</footer>
	<script type="text/javascript">

		var active = true;
	    // $('.header-menu-bar').on('click', toggleMenuBar);






		sliderCarousel = new Slider( $('.wrapper-slider').children('.site-width') , $('.arrow') , 960, 1000, 2000, 1000);
		var imageArray = sliderCarousel._getWidthandHeight();	
  			sliderCarousel.nav_bar.on('click', function() {
  				console.log($(this).data('dir'));
  			var color = getRandColor();	
  			$('.wrapper-slider').css('background-color', color);	
  	 		sliderCarousel.slideTo( $(this).data('dir'));

  		})
  // 		resize = function(  ) {
		// var widthImage =  * $(window).width() / 960;
		// width = Math.min(widthImage, 350);
		// var height = width * 9 / 16;
		// img.css({width:width, height: height});
		// }
		resize = function(  ) {
		sliderCarousel.pageWidth = $('.wrapper-slider .site-width').width();
		$('.slide-content').css('width',sliderCarousel.pageWidth);
		sliderCarousel.slider.css('width',sliderCarousel.pageWidth * sliderCarousel.numberPages);

		sliderCarousel.slider.css({
			marginLeft: - sliderCarousel.index * sliderCarousel.pageWidth
		});
<<<<<<< HEAD

		resizeHeight ();
=======
		// if($("header").width() > 600 ) outMenuBar();
		
>>>>>>> origin/master

		// width = Math.min(sliderCarousel.pageWidth, 350);
		// var height = width * 9 / 16;
		// // img.css({width:width, height: height});
		// var screenImage = sliderCarousel.slider.children('.slide-content').eq(sliderCarousel.index).children();

		

		// Create new offscreen image to test
		// var theImage = new Image();
		// theImage.src = screenImage.attr("src");

		// // Get accurate measurements from that.
		// var imageWidth = theImage.width;
		// console.log(imageWidth);
		// var imageHeight = theImage.height;

		// if( 960 > sliderCarousel.pageWidth){

		// 	width = Math.min(imageHeight, sliderCarousel.pageWidth);
		// 	var height = width * 9 / 16;
		// 	sliderCarousel.slider.children('.slide-content').children().css({
		// 	width: width,
		// 	height: height

		// });
			sliderCarousel.slider.children().children().fitToParent(imageArray);
		}	
		jQuery.fn.fitToParent = function(imageArray) {
			console.log($(this));
			var index = $(this).parent().index();
			console.log(index);
			for ( var i = 0; i < sliderCarousel.numberPages; i ++){
				console.log(i);

    		(function() {
	    	var width  = imageArray[ i]['width'];
	    	console.log(width);
	    	var height = imageArray[ i]['height'];
	    	var parentWidth  = sliderCarousel.pageWidth;
	    	console.log(parentWidth);
	    	if(width > parentWidth - 100)
	    	{
	    		newWidth  = parentWidth - 100;
	    		newHeight = newWidth/width*height;
	    	}
	    	else
	    	{
	    		newHeight = height;
	    		newWidth  = width;
	    	}
	    	var kidImg = sliderCarousel.slider.children().eq(i).children();
	    	kidImg.css({
	    	             // 'height'     :newHeight   + 'px',
	    	             'width'      :newWidth    + 'px',
	    	         	marginBottom: 600/2 - kidImg.height() / 2,
	    	         	marginTop: 600/2 - kidImg.height() / 2 });
    		}) ();
    		}

    		};
		// img.css({width:width, height: height});
    	


		resize($('.slide-content'));
		$(window).on('resize', function () {
			resize($('.slide-content'));
		} )	

	</script>
</body>
</html>